"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[942],{6011:(e,t,n)=>{n.d(t,{F8:()=>o,VQ:()=>u,zp:()=>a,xe:()=>l,fq:()=>c});var r=n(6779),o=function(e){return(0,r.ZP)("get","/users",e)},u=function(e){return(0,r.ZP)("get","/users/"+e)},a=function(e,t){return(0,r.ZP)("put","/users/"+e,t)},l=function(e){return(0,r.ZP)("delete","/users/"+e)},c=function(e,t){return(0,r.ZP)("put","/users/password/"+e,t)}},9189:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(821),o={class:"px-6 py-3 mr-1 mb-1 font-medium text-left text-white uppercase rounded shadow transition-all duration-150 ease-linear outline-none text-md bg-blueGray-800 active:bg-blueGray-600 hover:shadow-lg focus:outline-none"};const u={};const a=(0,n(3744).Z)(u,[["render",function(e,t,n,u,a,l){return(0,r.openBlock)(),(0,r.createElementBlock)("button",o,[(0,r.renderSlot)(e.$slots,"default")])}]])},4070:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(821),o=["id","name","type","placeholder"];const u={props:{value:{type:String,required:!0},name:{type:String,required:!0},placeholder:{type:String,required:!0},type:{type:String,default:"text"}},emits:["update:value"],setup:function(e,t){var n=t.emit;return{text:(0,r.computed)({get:function(){return e.value},set:function(e){return n("update:value",e)}})}}};const a=(0,n(3744).Z)(u,[["render",function(e,t,n,u,a,l){return(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return u.text=e}),id:n.name,name:n.name,type:n.type,placeholder:n.placeholder,class:"block px-3 py-2 mt-1 w-full bg-white rounded-md border-2 border-gray-300 shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,8,o)),[[r.vModelDynamic,u.text]])}]])},524:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(821),o=["for"];const u={props:{htmlFor:{type:String}}};const a=(0,n(3744).Z)(u,[["render",function(e,t,n,u,a,l){return(0,r.openBlock)(),(0,r.createElementBlock)("label",{for:n.htmlFor,class:"block mb-2 ml-1 font-bold text-left uppercase text-md text-blueGray-600"},[(0,r.renderSlot)(e.$slots,"default")],8,o)}]])},6942:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});var r=n(821),o={class:"w-full h-auto bg-white rounded-sm shadow-md"},u={class:"p-5"},a={class:"w-full"},l=(0,r.createTextVNode)("名稱"),c={class:"mt-4 w-full"},s=(0,r.createTextVNode)("帳號"),i={class:"mt-4 w-full"},d=(0,r.createTextVNode)("電子信箱"),f={class:"flex justify-end mt-4 w-full"},p=(0,r.createTextVNode)(" 更新資料 ");var m=n(7757),v=n.n(m),h=n(2119),w=n(8410),x=n(6011),b=n(9189),y=n(524);function V(e,t,n,r,o,u,a){try{var l=e[u](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var u=e.apply(t,n);function a(e){V(u,r,o,a,l,"next",e)}function l(e){V(u,r,o,a,l,"throw",e)}a(void 0)}))}}const k={components:{BaseInputText:n(4070).Z,BaseLabel:y.Z,BaseButton:b.Z},setup:function(){var e=(0,w.oR)(),t=(0,h.tv)(),n=(0,h.yj)().params.id,o=(0,r.ref)({name:"",username:"",email:""}),u=(0,r.ref)(!1);(0,r.onBeforeMount)(g(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.VQ)(n).then((function(e){o.value=e.data,u.value=!0}));case 2:case"end":return e.stop()}}),e)}))));var a=function(){var r=g(v().mark((function r(){return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,x.zp)(n,o.value).then((function(){e.dispatch("addNotice",{message:"使用者資料更新成功!",color:!0}),t.push({name:"usersManage"})}));case 2:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return{user:o,isShow:u,updateUser:a}}};const N=(0,n(3744).Z)(k,[["render",function(e,t,n,m,v,h){var w=(0,r.resolveComponent)("base-label"),x=(0,r.resolveComponent)("base-input-text"),b=(0,r.resolveComponent)("base-button");return(0,r.openBlock)(),(0,r.createBlock)(r.Transition,{name:"fade"},{default:(0,r.withCtx)((function(){return[(0,r.withDirectives)((0,r.createElementVNode)("div",o,[(0,r.createElementVNode)("div",u,[(0,r.createElementVNode)("div",a,[(0,r.createVNode)(w,{"html-for":"name"},{default:(0,r.withCtx)((function(){return[l]})),_:1}),(0,r.createVNode)(x,{value:m.user.name,"onUpdate:value":t[0]||(t[0]=function(e){return m.user.name=e}),name:"name",placeholder:"名稱"},null,8,["value"])]),(0,r.createElementVNode)("div",c,[(0,r.createVNode)(w,{"html-for":"username"},{default:(0,r.withCtx)((function(){return[s]})),_:1}),(0,r.createVNode)(x,{value:m.user.username,"onUpdate:value":t[1]||(t[1]=function(e){return m.user.username=e}),name:"username",placeholder:"帳號"},null,8,["value"])]),(0,r.createElementVNode)("div",i,[(0,r.createVNode)(w,{"html-for":"email"},{default:(0,r.withCtx)((function(){return[d]})),_:1}),(0,r.createVNode)(x,{value:m.user.email,"onUpdate:value":t[2]||(t[2]=function(e){return m.user.email=e}),name:"email",placeholder:"電子信箱"},null,8,["value"])]),(0,r.createElementVNode)("div",f,[(0,r.createVNode)(b,{onClick:m.updateUser},{default:(0,r.withCtx)((function(){return[p]})),_:1},8,["onClick"])])])],512),[[r.vShow,m.isShow]])]})),_:1})}]])}}]);
//# sourceMappingURL=942.js.map
{"version":3,"file":"js/681.js","mappings":"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","sources":["webpack:///./resources/js/api/product.js","webpack:///./resources/js/views/components/BaseButton.vue","webpack:///./resources/js/views/components/BaseButton.vue?204f","webpack:///./resources/js/views/components/BaseInputText.vue","webpack:///./resources/js/views/components/BaseInputText.vue?cbca","webpack:///./resources/js/views/components/BaseLabel.vue","webpack:///./resources/js/views/components/BaseLabel.vue?f649","webpack:///./resources/js/views/products/ProductsEdit.vue","webpack:///./resources/js/views/products/ProductsEdit.vue?e68f"],"sourcesContent":["import req from './https';\n\nexport const apiGetProducts = (data) => req('get', '/products', data);\nexport const apiGetProduct = (id) => req('get', '/products/' + id);\nexport const apiCreateProduct = (data) => req('post', '/products', data);\nexport const apiUpdateProduct = (id, data) => req('post', '/products/' + id, data);\nexport const apiDeleteProduct = (id) => req('delete', '/products/' + id);\n","<template>\n    <button\n        class=\"px-6 py-3 mr-1 mb-1 font-medium text-left text-white uppercase rounded shadow transition-all duration-150 ease-linear outline-none text-md bg-blueGray-800 active:bg-blueGray-600 hover:shadow-lg focus:outline-none\">\n        <slot></slot>\n    </button>\n</template>\n\n<script>\nexport default {}\n</script>\n","import { render } from \"./BaseButton.vue?vue&type=template&id=56d7f550\"\nimport script from \"./BaseButton.vue?vue&type=script&lang=js\"\nexport * from \"./BaseButton.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\xampp\\\\htdocs\\\\MoonNightBlog\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <input v-model=\"text\"\n           :id=\"name\"\n           :name=\"name\"\n           :type=\"type\"\n           :placeholder=\"placeholder\"\n           class=\"block px-3 py-2 mt-1 w-full bg-white rounded-md border-2 border-gray-300 shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n    >\n</template>\n\n<script>\nimport {computed} from \"vue\";\n\nexport default {\n    props: {\n        value: {\n            type: String,\n            required: true\n        },\n        name: {\n            type: String,\n            required: true\n        },\n        placeholder: {\n            type: String,\n            required: true\n        },\n        type: {\n            type: String,\n            default: 'text'\n        }\n    },\n    emits: [\"update:value\"],\n    setup(props, {emit}) {\n        const text = computed({\n            get: () => props.value,\n            set: val => emit(\"update:value\", val),\n        });\n\n        return {\n            text\n        };\n    }\n}\n</script>\n","import { render } from \"./BaseInputText.vue?vue&type=template&id=d90c3f3c\"\nimport script from \"./BaseInputText.vue?vue&type=script&lang=js\"\nexport * from \"./BaseInputText.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\xampp\\\\htdocs\\\\MoonNightBlog\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <label :for=\"htmlFor\"\n           class=\"block mb-2 ml-1 font-bold text-left uppercase text-md text-blueGray-600\">\n        <slot></slot>\n    </label>\n</template>\n\n<script>\nexport default {\n    props: {\n        htmlFor: {\n            type: String\n        }\n    }\n}\n</script>\n","import { render } from \"./BaseLabel.vue?vue&type=template&id=18d960ee\"\nimport script from \"./BaseLabel.vue?vue&type=script&lang=js\"\nexport * from \"./BaseLabel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\xampp\\\\htdocs\\\\MoonNightBlog\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <transition name=\"fade\">\n        <div v-show=\"isShow\" class=\"w-full h-auto bg-white rounded-sm shadow-md\">\n            <div class=\"p-5\">\n                <div class=\"w-full\">\n                    <base-label html-for=\"name\">名稱</base-label>\n\n                    <base-input-text\n                        v-model:value=\"product.name\"\n                        name=\"name\"\n                        placeholder=\"名稱\"\n                    >\n                    </base-input-text>\n                </div>\n                <div class=\"mt-4 w-full\">\n                    <base-label html-for=\"thumbnail\">縮圖</base-label>\n\n                    <div class=\"flex\">\n                        <input type=\"file\" @change=\"getThumbnail($event)\" id=\"thumbnail\" name=\"thumbnail\"\n                               placeholder=\"縮圖\">\n                        <img v-if=\"thumbnailSrc !== null\" v-bind:src=\"thumbnailSrc\" alt=\"縮圖\"\n                             class=\"w-auto h-24\">\n                    </div>\n                </div>\n\n                <div class=\"mt-4 w-full\">\n                    <base-label html-for=\"excerpt\">摘要</base-label>\n\n                    <base-input-text\n                        v-model:value=\"product.excerpt\"\n                        name=\"excerpt\"\n                        placeholder=\"摘要\"\n                    >\n                    </base-input-text>\n                </div>\n\n                <div class=\"flex justify-end mt-4 w-full\">\n                    <base-button @click=\"updateProduct\">\n                        更新作品\n                    </base-button>\n                </div>\n            </div>\n        </div>\n    </transition>\n</template>\n\n<script>\nimport {onBeforeMount, ref} from \"vue\";\nimport {useRoute, useRouter} from \"vue-router\";\nimport {useStore} from \"vuex\";\nimport {apiGetProduct, apiUpdateProduct} from \"../../api/product\";\nimport {transformToFormData} from \"../../api/utils\";\nimport BaseButton from \"../components/BaseButton\";\nimport BaseLabel from \"../components/BaseLabel\";\nimport BaseInputText from \"../components/BaseInputText\";\n\nexport default {\n    components: {\n        BaseInputText,\n        BaseLabel,\n        BaseButton\n    },\n    setup() {\n        const product = ref({\n            name: '',\n            excerpt: '',\n            thumbnail: null\n        });\n        const thumbnailSrc = ref(null);\n\n        const isShow = ref(false);\n        const route = useRoute()\n        const id = route.params.id;\n        onBeforeMount(async () => {\n            await apiGetProduct(id)\n                .then((res) => {\n                    product.value = res.data;\n                    thumbnailSrc.value = product.value.thumbnail;\n                    product.value.thumbnail = null;\n                    isShow.value = true;\n                });\n        });\n\n        const getThumbnail = (event) => {\n            const reader = new FileReader();\n\n            reader.onloadend = function () {\n                thumbnailSrc.value = reader.result;\n            }\n\n            reader.readAsDataURL(event.target.files[0]);\n\n            product.value.thumbnail = event.target.files[0]\n        }\n\n        const router = useRouter();\n        const store = useStore();\n        const updateProduct = async () => {\n            await apiUpdateProduct(id, transformToFormData(product.value))\n                .then(() => {\n                    store.dispatch('addNotice', {message: '作品更新成功!', color: true});\n                    router.push({name: 'productsManage'});\n                });\n        };\n\n        return {\n            product,\n            thumbnailSrc,\n            isShow,\n            updateProduct,\n            getThumbnail\n        }\n    }\n}\n</script>\n\n","import { render } from \"./ProductsEdit.vue?vue&type=template&id=2cf49677\"\nimport script from \"./ProductsEdit.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsEdit.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\xampp\\\\htdocs\\\\MoonNightBlog\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["apiGetProducts","data","req","apiGetProduct","id","apiCreateProduct","apiUpdateProduct","apiDeleteProduct","class","props","value","type","String","required","name","placeholder","default","emits","setup","emit","text","computed","get","set","val","htmlFor","for","components","BaseInputText","BaseLabel","BaseButton","product","ref","excerpt","thumbnail","thumbnailSrc","isShow","params","onBeforeMount","then","res","router","store","updateProduct","dispatch","message","color","push","getThumbnail","event","reader","FileReader","onloadend","result","readAsDataURL","target","files","$event","src","alt"],"sourceRoot":""}
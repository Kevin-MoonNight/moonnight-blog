"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[681],{1392:(e,t,n)=>{n.d(t,{dx:()=>r,Au:()=>a,yk:()=>l,Oe:()=>o,mP:()=>i});var u=n(6779),r=function(e){return(0,u.ZP)("get","/products",e)},a=function(e){return(0,u.ZP)("get","/products/"+e)},l=function(e){return(0,u.ZP)("post","/products",e)},o=function(e,t){return(0,u.ZP)("post","/products/"+e,t)},i=function(e){return(0,u.ZP)("delete","/products/"+e)}},9189:(e,t,n)=>{n.d(t,{Z:()=>l});var u=n(821),r={class:"px-6 py-3 mr-1 mb-1 font-medium text-left text-white uppercase rounded shadow transition-all duration-150 ease-linear outline-none text-md bg-blueGray-800 active:bg-blueGray-600 hover:shadow-lg focus:outline-none"};const a={};const l=(0,n(3744).Z)(a,[["render",function(e,t,n,a,l,o){return(0,u.wg)(),(0,u.iD)("button",r,[(0,u.WI)(e.$slots,"default")])}]])},4070:(e,t,n)=>{n.d(t,{Z:()=>l});var u=n(821),r=["id","name","type","placeholder"];const a={props:{value:{type:String,required:!0},name:{type:String,required:!0},placeholder:{type:String,required:!0},type:{type:String,default:"text"}},emits:["update:value"],setup:function(e,t){var n=t.emit;return{text:(0,u.Fl)({get:function(){return e.value},set:function(e){return n("update:value",e)}})}}};const l=(0,n(3744).Z)(a,[["render",function(e,t,n,a,l,o){return(0,u.wy)(((0,u.wg)(),(0,u.iD)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.text=e}),id:n.name,name:n.name,type:n.type,placeholder:n.placeholder,class:"block px-3 py-2 mt-1 w-full bg-white rounded-md border-2 border-gray-300 shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,8,r)),[[u.YZ,a.text]])}]])},524:(e,t,n)=>{n.d(t,{Z:()=>l});var u=n(821),r=["for"];const a={props:{htmlFor:{type:String}}};const l=(0,n(3744).Z)(a,[["render",function(e,t,n,a,l,o){return(0,u.wg)(),(0,u.iD)("label",{for:n.htmlFor,class:"block mb-2 ml-1 font-bold text-left uppercase text-md text-blueGray-600"},[(0,u.WI)(e.$slots,"default")],8,r)}]])},2681:(e,t,n)=>{n.r(t),n.d(t,{default:()=>U});var u=n(821),r={class:"w-full h-auto bg-white rounded-sm shadow-md"},a={class:"p-5"},l={class:"w-full"},o=(0,u.Uk)("名稱"),i={class:"mt-4 w-full"},c=(0,u.Uk)("縮圖"),s={class:"flex"},d=["src"],p={class:"mt-4 w-full"},f=(0,u.Uk)("摘要"),m={class:"flex justify-end mt-4 w-full"},h=(0,u.Uk)(" 更新作品 ");var v=n(7757),w=n.n(v),b=n(2119),g=n(8410),x=n(1392),y=n(6684),k=n(9189),Z=n(524);function _(e,t,n,u,r,a,l){try{var o=e[a](l),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(u,r)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(u,r){var a=e.apply(t,n);function l(e){_(a,u,r,l,o,"next",e)}function o(e){_(a,u,r,l,o,"throw",e)}l(void 0)}))}}const S={components:{BaseInputText:n(4070).Z,BaseLabel:Z.Z,BaseButton:k.Z},setup:function(){var e=(0,u.iH)({name:"",excerpt:"",thumbnail:null}),t=(0,u.iH)(null),n=(0,u.iH)(!1),r=(0,b.yj)().params.id;(0,u.wF)(P(w().mark((function u(){return w().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,x.Au)(r).then((function(u){e.value=u.data,t.value=e.value.thumbnail,e.value.thumbnail=null,n.value=!0}));case 2:case"end":return u.stop()}}),u)}))));var a=(0,b.tv)(),l=(0,g.oR)(),o=function(){var t=P(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,x.Oe)(r,(0,y.wG)(e.value)).then((function(){l.dispatch("addNotice",{message:"作品更新成功!",color:!0}),a.push({name:"productsManage"})}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{product:e,thumbnailSrc:t,isShow:n,updateProduct:o,getThumbnail:function(n){var u=new FileReader;u.onloadend=function(){t.value=u.result},u.readAsDataURL(n.target.files[0]),e.value.thumbnail=n.target.files[0]}}}};const U=(0,n(3744).Z)(S,[["render",function(e,t,n,v,w,b){var g=(0,u.up)("base-label"),x=(0,u.up)("base-input-text"),y=(0,u.up)("base-button");return(0,u.wg)(),(0,u.j4)(u.uT,{name:"fade"},{default:(0,u.w5)((function(){return[(0,u.wy)((0,u._)("div",r,[(0,u._)("div",a,[(0,u._)("div",l,[(0,u.Wm)(g,{"html-for":"name"},{default:(0,u.w5)((function(){return[o]})),_:1}),(0,u.Wm)(x,{value:v.product.name,"onUpdate:value":t[0]||(t[0]=function(e){return v.product.name=e}),name:"name",placeholder:"名稱"},null,8,["value"])]),(0,u._)("div",i,[(0,u.Wm)(g,{"html-for":"thumbnail"},{default:(0,u.w5)((function(){return[c]})),_:1}),(0,u._)("div",s,[(0,u._)("input",{type:"file",onChange:t[1]||(t[1]=function(e){return v.getThumbnail(e)}),id:"thumbnail",name:"thumbnail",placeholder:"縮圖"},null,32),null!==v.thumbnailSrc?((0,u.wg)(),(0,u.iD)("img",{key:0,src:v.thumbnailSrc,alt:"縮圖",class:"w-auto h-24"},null,8,d)):(0,u.kq)("",!0)])]),(0,u._)("div",p,[(0,u.Wm)(g,{"html-for":"excerpt"},{default:(0,u.w5)((function(){return[f]})),_:1}),(0,u.Wm)(x,{value:v.product.excerpt,"onUpdate:value":t[2]||(t[2]=function(e){return v.product.excerpt=e}),name:"excerpt",placeholder:"摘要"},null,8,["value"])]),(0,u._)("div",m,[(0,u.Wm)(y,{onClick:v.updateProduct},{default:(0,u.w5)((function(){return[h]})),_:1},8,["onClick"])])])],512),[[u.F8,v.isShow]])]})),_:1})}]])}}]);
//# sourceMappingURL=681.js.map
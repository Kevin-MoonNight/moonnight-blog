"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[196],{1392:(e,t,n)=>{n.d(t,{dx:()=>r,Au:()=>a,yk:()=>o,Oe:()=>u,mP:()=>c});var l=n(6779),r=function(e){return(0,l.ZP)("get","/products",e)},a=function(e){return(0,l.ZP)("get","/products/"+e)},o=function(e){return(0,l.ZP)("post","/products",e)},u=function(e,t){return(0,l.ZP)("post","/products/"+e,t)},c=function(e){return(0,l.ZP)("delete","/products/"+e)}},5196:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var l=n(821),r={class:"w-full h-auto bg-white rounded-sm shadow-md"},a={class:"p-5"},o={class:"w-full"},u=(0,l.createElementVNode)("label",{htmlFor:"name",class:"block mb-2 ml-1 font-bold text-left uppercase text-md text-blueGray-600"}," 名稱 ",-1),c={class:"mt-4 w-full"},i=(0,l.createElementVNode)("label",{htmlFor:"thumbnail",class:"block mb-2 ml-1 font-bold text-left uppercase text-md text-blueGray-600"}," 縮圖 ",-1),d={class:"flex"},s=["src"],m={class:"mt-4 w-full"},p=(0,l.createElementVNode)("label",{htmlFor:"excerpt",class:"block mb-2 ml-1 font-bold text-left uppercase text-md text-blueGray-600"}," 摘要 ",-1),f={class:"flex justify-end mt-4 w-full"};var h=n(7757),b=n.n(h),v=n(2119),x=n(8410),w=n(1392);function y(e,t,n,l,r,a,o){try{var u=e[a](o),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(l,r)}const k={setup:function(){var e=(0,l.ref)({name:"",excerpt:"",thumbnail:null}),t=(0,l.ref)(null),n=function(){var t=new FormData;return Object.keys(e.value).forEach((function(n){t.append(n,e.value[n])})),t},r=(0,v.tv)(),a=(0,x.oR)(),o=function(){var e,t=(e=b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([(0,w.yk)(n())]).then((function(){a.dispatch("addNotice",{message:"作品新增成功!",color:!0}),r.push({name:"productsManage"})}));case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(l,r){var a=e.apply(t,n);function o(e){y(a,l,r,o,u,"next",e)}function u(e){y(a,l,r,o,u,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();return{product:e,thumbnailSrc:t,createProduct:o,getThumbnail:function(n){var l=new FileReader;l.onloadend=function(){t.value=l.result},l.readAsDataURL(n.target.files[0]),e.value.thumbnail=n.target.files[0]}}}};const E=(0,n(3744).Z)(k,[["render",function(e,t,n,h,b,v){return(0,l.openBlock)(),(0,l.createElementBlock)("div",r,[(0,l.createElementVNode)("div",a,[(0,l.createElementVNode)("div",o,[u,(0,l.withDirectives)((0,l.createElementVNode)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return h.product.name=e}),id:"name",type:"text",name:"name",placeholder:"名稱",class:"input-style"},null,512),[[l.vModelText,h.product.name]])]),(0,l.createElementVNode)("div",c,[i,(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("input",{type:"file",onChange:t[1]||(t[1]=function(e){return h.getThumbnail(e)}),id:"thumbnail",name:"thumbnail",placeholder:"縮圖"},null,32),null!==h.thumbnailSrc?((0,l.openBlock)(),(0,l.createElementBlock)("img",{key:0,src:h.thumbnailSrc,alt:"縮圖",class:"w-auto h-24"},null,8,s)):(0,l.createCommentVNode)("",!0)])]),(0,l.createElementVNode)("div",m,[p,(0,l.withDirectives)((0,l.createElementVNode)("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return h.product.excerpt=e}),id:"excerpt",type:"text",name:"excerpt",placeholder:"摘要",class:"input-style"},null,512),[[l.vModelText,h.product.excerpt]])]),(0,l.createElementVNode)("div",f,[(0,l.createElementVNode)("button",{onClick:t[3]||(t[3]=function(){return h.createProduct&&h.createProduct.apply(h,arguments)}),class:"px-6 py-3 mr-1 mb-1 font-medium text-left text-white uppercase rounded shadow transition-all duration-150 ease-linear outline-none text-md bg-blueGray-800 active:bg-blueGray-600 hover:shadow-lg focus:outline-none"}," 新增作品 ")])])])}]])}}]);
//# sourceMappingURL=196.js.map
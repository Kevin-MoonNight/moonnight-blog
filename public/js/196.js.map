{"version":3,"file":"js/196.js","mappings":"uJAEaA,EAAiB,SAACC,GAAD,OAAUC,EAAAA,EAAAA,IAAI,MAAO,YAAaD,IACnDE,EAAgB,SAACC,GAAD,OAAQF,EAAAA,EAAAA,IAAI,MAAO,aAAeE,IAClDC,EAAmB,SAACJ,GAAD,OAAUC,EAAAA,EAAAA,IAAI,OAAQ,YAAaD,IACtDK,EAAmB,SAACF,EAAIH,GAAL,OAAcC,EAAAA,EAAAA,IAAI,OAAQ,aAAeE,EAAIH,IAChEM,EAAmB,SAACH,GAAD,OAAQF,EAAAA,EAAAA,IAAI,SAAU,aAAeE,K,6DCL5DI,MAAM,+C,GACFA,MAAM,O,GACFA,MAAM,U,GACP,wBAGQ,SAHDC,QAAQ,OACRD,MAAM,2EAA0E,QAEvF,G,GAICA,MAAM,e,GACP,wBAGQ,SAHDC,QAAQ,YACRD,MAAM,2EAA0E,QAEvF,G,GACKA,MAAM,Q,aAQVA,MAAM,e,GACP,wBAGQ,SAHDC,QAAQ,UACRD,MAAM,2EAA0E,QAEvF,G,GAKCA,MAAM,gC,8KAgBvB,SACIE,MADW,WAEP,IAAMC,GAAU,IAAAC,KAAI,CAChBC,KAAM,GACNC,QAAS,GACTC,UAAW,OAETC,GAAe,IAAAJ,KAAI,MAanBK,EAAY,WACd,IAAMhB,EAAO,IAAIiB,SAMjB,OAJAC,OAAOC,KAAKT,EAAQU,OAAOC,SAAQ,SAACC,GAChCtB,EAAKuB,OAAOD,EAAKZ,EAAQU,MAAME,OAG5BtB,GAGLwB,GAAS,UACTC,GAAQ,UACRC,EAAY,e,EAAA,G,EAAA,UAAI,8FACZC,QAAQC,IAAI,EAAC,QAAiBZ,OAC/Ba,MAAK,WACFJ,EAAMK,SAAS,YAAa,CAACC,QAAS,UAAWC,OAAO,IACxDR,EAAOS,KAAK,CAACrB,KAAM,sBAJT,0C,+KAAJ,qDAQlB,MAAO,CACHF,QAAAA,EACAK,aAAAA,EACAW,cAAAA,EACAQ,aAnCiB,SAACC,GAClB,IAAMC,EAAS,IAAIC,WAEnBD,EAAOE,UAAY,WACfvB,EAAaK,MAAQgB,EAAOG,QAGhCH,EAAOI,cAAcL,EAAMM,OAAOC,MAAM,IAExChC,EAAQU,MAAMN,UAAYqB,EAAMM,OAAOC,MAAM,OC9DzD,MAEA,GAFiC,E,QAAA,GAAgB,EAAQ,CAAC,CAAC,S,+CDJvD,wBAuCM,MAvCN,EAuCM,EAtCF,wBAqCM,MArCN,EAqCM,EApCF,wBAOM,MAPN,EAOM,CANF,GAME,qBAFF,wBAC2B,S,qDADX,EAAAhC,QAAQE,KAAI,IAAET,GAAG,OAAOwC,KAAK,OAAO/B,KAAK,OAAOgC,YAAY,KACrErC,MAAM,eADb,yBAAgB,EAAAG,QAAQE,WAG5B,wBAWM,MAXN,EAWM,CAVF,GAIA,wBAKM,MALN,EAKM,EAJF,wBACwB,SADjB+B,KAAK,OAAQ,SAAM,+BAAE,EAAAT,aAAaW,KAAS1C,GAAG,YAAYS,KAAK,YAC/DgC,YAAY,MADnB,SAEuB,OAAZ,EAAA7B,eAAY,kBAAvB,wBACyB,O,MADgB+B,IAAK,EAAA/B,aAAcgC,IAAI,KAC3DxC,MAAM,eADX,gDAKR,wBAOM,MAPN,EAOM,CANF,GAME,qBAFF,wBAC2B,S,qDADX,EAAAG,QAAQG,QAAO,IAAEV,GAAG,UAAUwC,KAAK,OAAO/B,KAAK,UAAUgC,YAAY,KAC9ErC,MAAM,eADb,yBAAgB,EAAAG,QAAQG,cAI5B,wBAKM,MALN,EAKM,EAJF,wBAGS,UAHA,QAAK,8BAAE,EAAAa,eAAA,EAAAA,cAAA,qBACRnB,MAAM,wNAAuN","sources":["webpack:///./resources/js/api/product.js","webpack:///./resources/js/views/products/ProductsCreate.vue","webpack:///./resources/js/views/products/ProductsCreate.vue?fc7a"],"sourcesContent":["import req from './https';\n\nexport const apiGetProducts = (data) => req('get', '/products', data);\nexport const apiGetProduct = (id) => req('get', '/products/' + id);\nexport const apiCreateProduct = (data) => req('post', '/products', data);\nexport const apiUpdateProduct = (id, data) => req('post', '/products/' + id, data);\nexport const apiDeleteProduct = (id) => req('delete', '/products/' + id);\n","<template>\n    <div class=\"w-full h-auto bg-white rounded-sm shadow-md\">\n        <div class=\"p-5\">\n            <div class=\"w-full\">\n                <label htmlFor=\"name\"\n                       class=\"block mb-2 ml-1 font-bold text-left uppercase text-md text-blueGray-600\">\n                    名稱\n                </label>\n                <input v-model=\"product.name\" id=\"name\" type=\"text\" name=\"name\" placeholder=\"名稱\"\n                       class=\"input-style\">\n            </div>\n            <div class=\"mt-4 w-full\">\n                <label htmlFor=\"thumbnail\"\n                       class=\"block mb-2 ml-1 font-bold text-left uppercase text-md text-blueGray-600\">\n                    縮圖\n                </label>\n                <div class=\"flex\">\n                    <input type=\"file\" @change=\"getThumbnail($event)\" id=\"thumbnail\" name=\"thumbnail\"\n                           placeholder=\"縮圖\">\n                    <img v-if=\"thumbnailSrc !== null\" v-bind:src=\"thumbnailSrc\" alt=\"縮圖\"\n                         class=\"w-auto h-24\">\n                </div>\n            </div>\n\n            <div class=\"mt-4 w-full\">\n                <label htmlFor=\"excerpt\"\n                       class=\"block mb-2 ml-1 font-bold text-left uppercase text-md text-blueGray-600\">\n                    摘要\n                </label>\n                <input v-model=\"product.excerpt\" id=\"excerpt\" type=\"text\" name=\"excerpt\" placeholder=\"摘要\"\n                       class=\"input-style\">\n            </div>\n\n            <div class=\"flex justify-end mt-4 w-full\">\n                <button @click=\"createProduct\"\n                        class=\"px-6 py-3 mr-1 mb-1 font-medium text-left text-white uppercase rounded shadow transition-all duration-150 ease-linear outline-none text-md bg-blueGray-800 active:bg-blueGray-600 hover:shadow-lg focus:outline-none\">\n                    新增作品\n                </button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport {ref} from \"vue\";\nimport {useRouter} from \"vue-router\";\nimport {useStore} from \"vuex\";\nimport {apiCreateProduct} from \"../../api/product\";\n\nexport default {\n    setup() {\n        const product = ref({\n            name: '',\n            excerpt: '',\n            thumbnail: null\n        });\n        const thumbnailSrc = ref(null);\n\n        const getThumbnail = (event) => {\n            const reader = new FileReader();\n\n            reader.onloadend = function () {\n                thumbnailSrc.value = reader.result;\n            }\n\n            reader.readAsDataURL(event.target.files[0]);\n\n            product.value.thumbnail = event.target.files[0]\n        }\n        const inputData = () => {\n            const data = new FormData();\n\n            Object.keys(product.value).forEach((key) => {\n                data.append(key, product.value[key])\n            });\n\n            return data;\n        }\n\n        const router = useRouter();\n        const store = useStore();\n        const createProduct = async () => {\n            await Promise.all([apiCreateProduct(inputData())])\n                .then(() => {\n                    store.dispatch('addNotice', {message: '作品新增成功!', color: true});\n                    router.push({name: 'productsManage'});\n                });\n        };\n\n        return {\n            product,\n            thumbnailSrc,\n            createProduct,\n            getThumbnail\n        }\n    }\n}\n</script>\n","import { render } from \"./ProductsCreate.vue?vue&type=template&id=562f2b24\"\nimport script from \"./ProductsCreate.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsCreate.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\xampp\\\\htdocs\\\\MoonNightBlog\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["apiGetProducts","data","req","apiGetProduct","id","apiCreateProduct","apiUpdateProduct","apiDeleteProduct","class","htmlFor","setup","product","ref","name","excerpt","thumbnail","thumbnailSrc","inputData","FormData","Object","keys","value","forEach","key","append","router","store","createProduct","Promise","all","then","dispatch","message","color","push","getThumbnail","event","reader","FileReader","onloadend","result","readAsDataURL","target","files","type","placeholder","$event","src","alt"],"sourceRoot":""}